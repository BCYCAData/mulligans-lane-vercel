import{S as tt,i as st,s as at,e as i,t as E,k as b,c,a as d,h as y,d as r,m as _,b as a,Q as V,g as j,N as e,R as D,a4 as nt,j as H,E as Oe,T as ot,w as ut,x as it,y as ct,q as lt,o as rt,B as dt,l as et,J as pt}from"../../chunks/index-547720bb.js";import{p as ft}from"../../chunks/stores-a4088671.js";import{s as je}from"../../chunks/dbClient-5d8e923f.js";import"../../chunks/preload-helper-60cab3ee.js";function mt(s){let n,o,t,f,k,h,N=(s[5],"\u{1F441}"),x,S,u,l,w,I,le,R,O=(s[5],"\u{1F441}"),K,re,g,v,C,P,T,ve,F,Pe,G,Ee,J,ye,L,M,W,ne=s[4][0]?"\u2714\uFE0F":"\u274C",ce,Ne,X,Se,Ae,Q,Y,oe=s[4][1]?"\u2714\uFE0F":"\u274C",de,ke,$,xe,Te,Z,ee,ue=s[4][2]?"\u2714\uFE0F":"\u274C",pe,Le,te,Ie,Re,z,se,ie=s[4][3]?"\u2714\uFE0F":"\u274C",fe,Ce,ae,Ue,qe,U,me,he,Be,Fe;return{c(){n=i("div"),o=i("div"),t=i("form"),f=i("label"),k=E("Password:"),h=i("span"),x=E(N),S=b(),u=i("input"),w=b(),I=i("label"),le=E("Confirm Password:"),R=i("span"),K=E(O),re=b(),g=i("input"),C=b(),P=i("div"),T=i("span"),ve=b(),F=i("span"),Pe=b(),G=i("span"),Ee=b(),J=i("span"),ye=b(),L=i("ul"),M=i("li"),W=i("span"),ce=E(ne),Ne=b(),X=i("span"),Se=E("must be at least 5 characters"),Ae=b(),Q=i("li"),Y=i("span"),de=E(oe),ke=b(),$=i("span"),xe=E("must contain a capital letter"),Te=b(),Z=i("li"),ee=i("span"),pe=E(ue),Le=b(),te=i("span"),Ie=E("must contain a number"),Re=b(),z=i("li"),se=i("span"),fe=E(ie),Ce=b(),ae=i("span"),Ue=E("must contain one symbol ($&+,:;=?#^!)"),qe=b(),U=i("button"),me=E(s[0]),this.h()},l(p){n=c(p,"DIV",{class:!0});var m=d(n);o=c(m,"DIV",{class:!0});var Ge=d(o);t=c(Ge,"FORM",{});var A=d(t);f=c(A,"LABEL",{class:!0,for:!0});var Ve=d(f);k=y(Ve,"Password:"),h=c(Ve,"SPAN",{class:!0});var Je=d(h);x=y(Je,N),Je.forEach(r),Ve.forEach(r),S=_(A),u=c(A,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),w=_(A),I=c(A,"LABEL",{class:!0,for:!0});var De=d(I);le=y(De,"Confirm Password:"),R=c(De,"SPAN",{class:!0});var Me=d(R);K=y(Me,O),Me.forEach(r),De.forEach(r),re=_(A),g=c(A,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),C=_(A),P=c(A,"DIV",{class:!0});var q=d(P);T=c(q,"SPAN",{class:!0}),d(T).forEach(r),ve=_(q),F=c(q,"SPAN",{class:!0}),d(F).forEach(r),Pe=_(q),G=c(q,"SPAN",{class:!0}),d(G).forEach(r),Ee=_(q),J=c(q,"SPAN",{class:!0}),d(J).forEach(r),q.forEach(r),ye=_(A),L=c(A,"UL",{});var B=d(L);M=c(B,"LI",{});var we=d(M);W=c(we,"SPAN",{class:!0});var Qe=d(W);ce=y(Qe,ne),Qe.forEach(r),Ne=_(we),X=c(we,"SPAN",{class:!0});var Ze=d(X);Se=y(Ze,"must be at least 5 characters"),Ze.forEach(r),we.forEach(r),Ae=_(B),Q=c(B,"LI",{});var be=d(Q);Y=c(be,"SPAN",{class:!0});var ze=d(Y);de=y(ze,oe),ze.forEach(r),ke=_(be),$=c(be,"SPAN",{class:!0});var He=d($);xe=y(He,"must contain a capital letter"),He.forEach(r),be.forEach(r),Te=_(B),Z=c(B,"LI",{});var _e=d(Z);ee=c(_e,"SPAN",{class:!0});var Ke=d(ee);pe=y(Ke,ue),Ke.forEach(r),Le=_(_e),te=c(_e,"SPAN",{class:!0});var We=d(te);Ie=y(We,"must contain a number"),We.forEach(r),_e.forEach(r),Re=_(B),z=c(B,"LI",{});var ge=d(z);se=c(ge,"SPAN",{class:!0});var Xe=d(se);fe=y(Xe,ie),Xe.forEach(r),Ce=_(ge),ae=c(ge,"SPAN",{class:!0});var Ye=d(ae);Ue=y(Ye,"must contain one symbol ($&+,:;=?#^!)"),Ye.forEach(r),ge.forEach(r),B.forEach(r),qe=_(A),U=c(A,"BUTTON",{type:!0,class:!0});var $e=d(U);me=y($e,s[0]),$e.forEach(r),A.forEach(r),Ge.forEach(r),m.forEach(r),this.h()},h(){a(h,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(f,"class","inline uppercase tracking-wide text-orange-900 text-xs font-bold"),a(f,"for","password"),a(u,"id","password"),a(u,"type",l=s[5]?"text":"password"),a(u,"class","block border border-orange-700 w-full py-3 rounded mb-4"),a(u,"name","password"),u.required=!0,a(u,"placeholder","New Password"),a(u,"autocomplete","new-password"),u.value=s[2],a(R,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(I,"class","inline uppercase tracking-wide text-orange-900 text-xs font-bold"),a(I,"for","confirmPassword"),a(g,"id","confirmPassword"),a(g,"type",v=s[5]?"text":"password"),a(g,"class","block border border-orange-700 w-full py-3 rounded mb-4"),a(g,"name","confirmPassword"),g.required=!0,a(g,"placeholder","Confirm New Password"),a(g,"autocomplete","new-password"),g.value=s[3],a(T,"class","bar bar-1 svelte-tnumgw"),V(T,"bar-show",s[1]>0),a(F,"class","bar bar-2 svelte-tnumgw"),V(F,"bar-show",s[1]>1),a(G,"class","bar bar-3 svelte-tnumgw"),V(G,"bar-show",s[1]>2),a(J,"class","bar bar-4 svelte-tnumgw"),V(J,"bar-show",s[1]>3),a(P,"class","strength svelte-tnumgw"),a(W,"class","text-xs"),a(X,"class","text-sm"),a(Y,"class","text-xs"),a($,"class","text-sm"),a(ee,"class","text-xs"),a(te,"class","text-sm"),a(se,"class","text-xs"),a(ae,"class","text-sm"),a(U,"type","submit"),a(U,"class","w-full text-center text-xl py-3 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1 disabled:opacity-25"),U.disabled=he=!s[7],a(o,"class","bg-white px-6 py-8 rounded shadow-md text-black w-full"),a(n,"class","container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2")},m(p,m){j(p,n,m),e(n,o),e(o,t),e(t,f),e(f,k),e(f,h),e(h,x),e(t,S),e(t,u),e(t,w),e(t,I),e(I,le),e(I,R),e(R,K),e(t,re),e(t,g),e(t,C),e(t,P),e(P,T),e(P,ve),e(P,F),e(P,Pe),e(P,G),e(P,Ee),e(P,J),e(t,ye),e(t,L),e(L,M),e(M,W),e(W,ce),e(M,Ne),e(M,X),e(X,Se),e(L,Ae),e(L,Q),e(Q,Y),e(Y,de),e(Q,ke),e(Q,$),e($,xe),e(L,Te),e(L,Z),e(Z,ee),e(ee,pe),e(Z,Le),e(Z,te),e(te,Ie),e(L,Re),e(L,z),e(z,se),e(se,fe),e(z,Ce),e(z,ae),e(ae,Ue),e(t,qe),e(t,U),e(U,me),Be||(Fe=[D(h,"mouseenter",s[12]),D(h,"mouseleave",s[13]),D(u,"change",s[14]),D(u,"input",s[8]),D(R,"mouseenter",s[15]),D(R,"mouseleave",s[16]),D(g,"input",s[8]),D(t,"submit",nt(s[9]()))],Be=!0)},p(p,[m]){m&32&&N!==(N=(p[5],"\u{1F441}"))&&H(x,N),m&32&&l!==(l=p[5]?"text":"password")&&a(u,"type",l),m&4&&u.value!==p[2]&&(u.value=p[2]),m&32&&O!==(O=(p[5],"\u{1F441}"))&&H(K,O),m&32&&v!==(v=p[5]?"text":"password")&&a(g,"type",v),m&8&&g.value!==p[3]&&(g.value=p[3]),m&2&&V(T,"bar-show",p[1]>0),m&2&&V(F,"bar-show",p[1]>1),m&2&&V(G,"bar-show",p[1]>2),m&2&&V(J,"bar-show",p[1]>3),m&16&&ne!==(ne=p[4][0]?"\u2714\uFE0F":"\u274C")&&H(ce,ne),m&16&&oe!==(oe=p[4][1]?"\u2714\uFE0F":"\u274C")&&H(de,oe),m&16&&ue!==(ue=p[4][2]?"\u2714\uFE0F":"\u274C")&&H(pe,ue),m&16&&ie!==(ie=p[4][3]?"\u2714\uFE0F":"\u274C")&&H(fe,ie),m&1&&H(me,p[0]),m&128&&he!==(he=!p[7])&&(U.disabled=he)},i:Oe,o:Oe,d(p){p&&r(n),Be=!1,ot(Fe)}}}function ht(s,n,o){let t,f,k,{redirectType:h}=n,N=0,x=[],S=!1,u="",{heading:l="Please set your new password."}=n,{submitText:w="Submit"}=n;h=="invite"&&(l="Please Set a Password",w="Set Password");function I(v){const C=v.target.value;o(4,x=[C.length>8,C.search(/[A-Z]/)>-1,C.search(/[0-9]/)>-1,C.search(/[$&+,:;=?#^!]/)>-1]),o(1,N=x.reduce((P,T)=>P+T,0))}async function le(){const v=await je.auth.session(),C=v==null?void 0:v.access_token;je.auth.setAuth(C);const{data:P,error:T}=await je.auth.update({password:t});console.log("data",P),console.log("error",T)}const R=()=>o(5,S=!0),O=()=>o(5,S=!1),K=()=>{o(6,u=t)},re=()=>o(5,S=!0),g=()=>o(5,S=!1);return s.$$set=v=>{"redirectType"in v&&o(11,h=v.redirectType),"heading"in v&&o(10,l=v.heading),"submitText"in v&&o(0,w=v.submitText)},s.$$.update=()=>{s.$$.dirty&14&&o(7,k=t===f&&N===4)},o(2,t=""),o(3,f=""),[w,N,t,f,x,S,u,k,I,le,l,h,R,O,K,re,g]}class wt extends tt{constructor(n){super(),st(this,n,ht,mt,at,{redirectType:11,heading:10,submitText:0})}}function bt(s){let n,o;return n=new wt({}),{c(){ut(n.$$.fragment)},l(t){it(n.$$.fragment,t)},m(t,f){ct(n,t,f),o=!0},i(t){o||(lt(n.$$.fragment,t),o=!0)},o(t){rt(n.$$.fragment,t),o=!1},d(t){dt(n,t)}}}function _t(s){let n,o,t,f,k,h,N,x,S,u=s[0]==="invite"&&bt();return{c(){n=i("p"),o=E("Redirecting"),t=b(),f=E(s[0]),k=b(),h=E(s[1]),N=b(),u&&u.c(),x=et()},l(l){n=c(l,"P",{});var w=d(n);o=y(w,"Redirecting"),w.forEach(r),t=_(l),f=y(l,s[0]),k=_(l),h=y(l,s[1]),N=_(l),u&&u.l(l),x=et()},m(l,w){j(l,n,w),e(n,o),j(l,t,w),j(l,f,w),j(l,k,w),j(l,h,w),j(l,N,w),u&&u.m(l,w),j(l,x,w),S=!0},p:Oe,i(l){S||(lt(u),S=!0)},o(l){rt(u),S=!1},d(l){l&&r(n),l&&r(t),l&&r(f),l&&r(k),l&&r(h),l&&r(N),u&&u.d(l),l&&r(x)}}}function gt(s,n,o){let t;pt(s,ft,h=>o(2,t=h));const f=new URLSearchParams(t.url.hash.substring(1)).get("type"),k=t.url;return[f,k]}class Nt extends tt{constructor(n){super(),st(this,n,gt,_t,at,{})}}export{Nt as default};
