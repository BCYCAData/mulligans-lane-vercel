import{S as tt,i as st,s as at,e as i,t as E,k as w,c,a as p,h as y,d as r,m as b,b as a,Q as V,g as j,N as e,R as D,a4 as ot,j as H,E as Oe,T as nt,w as ut,x as it,y as ct,q as lt,o as rt,B as pt,l as et,J as ft}from"../../chunks/index-2a980a40.js";import{p as dt}from"../../chunks/stores-8cc75ec5.js";import{s as je}from"../../chunks/dbClient-7ecda8d3.js";import"../../chunks/preload-helper-96c8edfa.js";function mt(s){let o,n,t,d,T,_,N=(s[5],"\u{1F441}"),k,S,u,l,h,R,le,x,O=(s[5],"\u{1F441}"),K,re,v,g,C,P,L,ge,F,Pe,G,Ee,J,ye,I,M,W,oe=s[4][0]?"\u2714\uFE0F":"\u274C",ce,Ne,X,Se,Ae,Q,Y,ne=s[4][1]?"\u2714\uFE0F":"\u274C",pe,Te,$,ke,Le,Z,ee,ue=s[4][2]?"\u2714\uFE0F":"\u274C",fe,Ie,te,Re,xe,z,se,ie=s[4][3]?"\u2714\uFE0F":"\u274C",de,Ce,ae,Ue,qe,U,me,_e,Be,Fe;return{c(){o=i("div"),n=i("div"),t=i("form"),d=i("label"),T=E("Password:"),_=i("span"),k=E(N),S=w(),u=i("input"),h=w(),R=i("label"),le=E("Confirm Password:"),x=i("span"),K=E(O),re=w(),v=i("input"),C=w(),P=i("div"),L=i("span"),ge=w(),F=i("span"),Pe=w(),G=i("span"),Ee=w(),J=i("span"),ye=w(),I=i("ul"),M=i("li"),W=i("span"),ce=E(oe),Ne=w(),X=i("span"),Se=E("must be at least 5 characters"),Ae=w(),Q=i("li"),Y=i("span"),pe=E(ne),Te=w(),$=i("span"),ke=E("must contain a capital letter"),Le=w(),Z=i("li"),ee=i("span"),fe=E(ue),Ie=w(),te=i("span"),Re=E("must contain a number"),xe=w(),z=i("li"),se=i("span"),de=E(ie),Ce=w(),ae=i("span"),Ue=E("must contain one symbol ($&+,:;=?#^!)"),qe=w(),U=i("button"),me=E(s[0]),this.h()},l(f){o=c(f,"DIV",{class:!0});var m=p(o);n=c(m,"DIV",{class:!0});var Ge=p(n);t=c(Ge,"FORM",{});var A=p(t);d=c(A,"LABEL",{class:!0,for:!0});var Ve=p(d);T=y(Ve,"Password:"),_=c(Ve,"SPAN",{class:!0});var Je=p(_);k=y(Je,N),Je.forEach(r),Ve.forEach(r),S=b(A),u=c(A,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),h=b(A),R=c(A,"LABEL",{class:!0,for:!0});var De=p(R);le=y(De,"Confirm Password:"),x=c(De,"SPAN",{class:!0});var Me=p(x);K=y(Me,O),Me.forEach(r),De.forEach(r),re=b(A),v=c(A,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),C=b(A),P=c(A,"DIV",{class:!0});var q=p(P);L=c(q,"SPAN",{class:!0}),p(L).forEach(r),ge=b(q),F=c(q,"SPAN",{class:!0}),p(F).forEach(r),Pe=b(q),G=c(q,"SPAN",{class:!0}),p(G).forEach(r),Ee=b(q),J=c(q,"SPAN",{class:!0}),p(J).forEach(r),q.forEach(r),ye=b(A),I=c(A,"UL",{});var B=p(I);M=c(B,"LI",{});var he=p(M);W=c(he,"SPAN",{class:!0});var Qe=p(W);ce=y(Qe,oe),Qe.forEach(r),Ne=b(he),X=c(he,"SPAN",{class:!0});var Ze=p(X);Se=y(Ze,"must be at least 5 characters"),Ze.forEach(r),he.forEach(r),Ae=b(B),Q=c(B,"LI",{});var we=p(Q);Y=c(we,"SPAN",{class:!0});var ze=p(Y);pe=y(ze,ne),ze.forEach(r),Te=b(we),$=c(we,"SPAN",{class:!0});var He=p($);ke=y(He,"must contain a capital letter"),He.forEach(r),we.forEach(r),Le=b(B),Z=c(B,"LI",{});var be=p(Z);ee=c(be,"SPAN",{class:!0});var Ke=p(ee);fe=y(Ke,ue),Ke.forEach(r),Ie=b(be),te=c(be,"SPAN",{class:!0});var We=p(te);Re=y(We,"must contain a number"),We.forEach(r),be.forEach(r),xe=b(B),z=c(B,"LI",{});var ve=p(z);se=c(ve,"SPAN",{class:!0});var Xe=p(se);de=y(Xe,ie),Xe.forEach(r),Ce=b(ve),ae=c(ve,"SPAN",{class:!0});var Ye=p(ae);Ue=y(Ye,"must contain one symbol ($&+,:;=?#^!)"),Ye.forEach(r),ve.forEach(r),B.forEach(r),qe=b(A),U=c(A,"BUTTON",{type:!0,class:!0});var $e=p(U);me=y($e,s[0]),$e.forEach(r),A.forEach(r),Ge.forEach(r),m.forEach(r),this.h()},h(){a(_,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(d,"class","inline uppercase tracking-wide text-orange-900 text-xs font-bold"),a(d,"for","password"),a(u,"id","password"),a(u,"type",l=s[5]?"text":"password"),a(u,"class","block border border-orange-700 w-full py-3 rounded mb-4"),a(u,"name","password"),u.required=!0,a(u,"placeholder","New Password"),a(u,"autocomplete","new-password"),u.value=s[2],a(x,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(R,"class","inline uppercase tracking-wide text-orange-900 text-xs font-bold"),a(R,"for","confirmPassword"),a(v,"id","confirmPassword"),a(v,"type",g=s[5]?"text":"password"),a(v,"class","block border border-orange-700 w-full py-3 rounded mb-4"),a(v,"name","confirmPassword"),v.required=!0,a(v,"placeholder","Confirm New Password"),a(v,"autocomplete","new-password"),v.value=s[3],a(L,"class","bar bar-1 svelte-tnumgw"),V(L,"bar-show",s[1]>0),a(F,"class","bar bar-2 svelte-tnumgw"),V(F,"bar-show",s[1]>1),a(G,"class","bar bar-3 svelte-tnumgw"),V(G,"bar-show",s[1]>2),a(J,"class","bar bar-4 svelte-tnumgw"),V(J,"bar-show",s[1]>3),a(P,"class","strength svelte-tnumgw"),a(W,"class","text-xs"),a(X,"class","text-sm"),a(Y,"class","text-xs"),a($,"class","text-sm"),a(ee,"class","text-xs"),a(te,"class","text-sm"),a(se,"class","text-xs"),a(ae,"class","text-sm"),a(U,"type","submit"),a(U,"class","w-full text-center text-xl py-3 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1 disabled:opacity-25"),U.disabled=_e=!s[7],a(n,"class","bg-white px-6 py-8 rounded shadow-md text-black w-full"),a(o,"class","container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2")},m(f,m){j(f,o,m),e(o,n),e(n,t),e(t,d),e(d,T),e(d,_),e(_,k),e(t,S),e(t,u),e(t,h),e(t,R),e(R,le),e(R,x),e(x,K),e(t,re),e(t,v),e(t,C),e(t,P),e(P,L),e(P,ge),e(P,F),e(P,Pe),e(P,G),e(P,Ee),e(P,J),e(t,ye),e(t,I),e(I,M),e(M,W),e(W,ce),e(M,Ne),e(M,X),e(X,Se),e(I,Ae),e(I,Q),e(Q,Y),e(Y,pe),e(Q,Te),e(Q,$),e($,ke),e(I,Le),e(I,Z),e(Z,ee),e(ee,fe),e(Z,Ie),e(Z,te),e(te,Re),e(I,xe),e(I,z),e(z,se),e(se,de),e(z,Ce),e(z,ae),e(ae,Ue),e(t,qe),e(t,U),e(U,me),Be||(Fe=[D(_,"mouseenter",s[12]),D(_,"mouseleave",s[13]),D(u,"change",s[14]),D(u,"input",s[8]),D(x,"mouseenter",s[15]),D(x,"mouseleave",s[16]),D(v,"input",s[8]),D(t,"submit",ot(s[9]()))],Be=!0)},p(f,[m]){m&32&&N!==(N=(f[5],"\u{1F441}"))&&H(k,N),m&32&&l!==(l=f[5]?"text":"password")&&a(u,"type",l),m&4&&u.value!==f[2]&&(u.value=f[2]),m&32&&O!==(O=(f[5],"\u{1F441}"))&&H(K,O),m&32&&g!==(g=f[5]?"text":"password")&&a(v,"type",g),m&8&&v.value!==f[3]&&(v.value=f[3]),m&2&&V(L,"bar-show",f[1]>0),m&2&&V(F,"bar-show",f[1]>1),m&2&&V(G,"bar-show",f[1]>2),m&2&&V(J,"bar-show",f[1]>3),m&16&&oe!==(oe=f[4][0]?"\u2714\uFE0F":"\u274C")&&H(ce,oe),m&16&&ne!==(ne=f[4][1]?"\u2714\uFE0F":"\u274C")&&H(pe,ne),m&16&&ue!==(ue=f[4][2]?"\u2714\uFE0F":"\u274C")&&H(fe,ue),m&16&&ie!==(ie=f[4][3]?"\u2714\uFE0F":"\u274C")&&H(de,ie),m&1&&H(me,f[0]),m&128&&_e!==(_e=!f[7])&&(U.disabled=_e)},i:Oe,o:Oe,d(f){f&&r(o),Be=!1,nt(Fe)}}}function _t(s,o,n){let t,d,T,{redirectType:_}=o,N=0,k=[],S=!1,u="",{heading:l="Please set your new password."}=o,{submitText:h="Submit"}=o;_=="invite"&&(l="Please Set a Password",h="Set Password");function R(g){const C=g.target.value;n(4,k=[C.length>8,C.search(/[A-Z]/)>-1,C.search(/[0-9]/)>-1,C.search(/[$&+,:;=?#^!]/)>-1]),n(1,N=k.reduce((P,L)=>P+L,0))}async function le(){const g=await je.auth.session(),C=g==null?void 0:g.access_token;je.auth.setAuth(C);const{data:P,error:L}=await je.auth.update({password:t});console.log("data",P),console.log("error",L)}const x=()=>n(5,S=!0),O=()=>n(5,S=!1),K=()=>{n(6,u=t)},re=()=>n(5,S=!0),v=()=>n(5,S=!1);return s.$$set=g=>{"redirectType"in g&&n(11,_=g.redirectType),"heading"in g&&n(10,l=g.heading),"submitText"in g&&n(0,h=g.submitText)},s.$$.update=()=>{s.$$.dirty&14&&n(7,T=t===d&&N===4)},n(2,t=""),n(3,d=""),[h,N,t,d,k,S,u,T,R,le,l,_,x,O,K,re,v]}class ht extends tt{constructor(o){super(),st(this,o,_t,mt,at,{redirectType:11,heading:10,submitText:0})}}function wt(s){let o,n;return o=new ht({}),{c(){ut(o.$$.fragment)},l(t){it(o.$$.fragment,t)},m(t,d){ct(o,t,d),n=!0},i(t){n||(lt(o.$$.fragment,t),n=!0)},o(t){rt(o.$$.fragment,t),n=!1},d(t){pt(o,t)}}}function bt(s){let o,n,t,d,T,_,N,k,S,u=s[0]==="invite"&&wt();return{c(){o=i("p"),n=E("Redirecting"),t=w(),d=E(s[0]),T=w(),_=E(s[1]),N=w(),u&&u.c(),k=et()},l(l){o=c(l,"P",{});var h=p(o);n=y(h,"Redirecting"),h.forEach(r),t=b(l),d=y(l,s[0]),T=b(l),_=y(l,s[1]),N=b(l),u&&u.l(l),k=et()},m(l,h){j(l,o,h),e(o,n),j(l,t,h),j(l,d,h),j(l,T,h),j(l,_,h),j(l,N,h),u&&u.m(l,h),j(l,k,h),S=!0},p:Oe,i(l){S||(lt(u),S=!0)},o(l){rt(u),S=!1},d(l){l&&r(o),l&&r(t),l&&r(d),l&&r(T),l&&r(_),l&&r(N),u&&u.d(l),l&&r(k)}}}function vt(s,o,n){let t;ft(s,dt,_=>n(2,t=_));const d=new URLSearchParams(t.url.hash.substring(1)).get("type"),T=t.url;return[d,T]}class Nt extends tt{constructor(o){super(),st(this,o,vt,bt,at,{})}}export{Nt as default};
