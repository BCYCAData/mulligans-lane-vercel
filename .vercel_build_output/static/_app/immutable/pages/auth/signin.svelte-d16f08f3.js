import{S as re,i as ae,s as se,w as X,x as Z,y as ee,q,o as D,B as te,e as p,t as T,k as E,c as h,a as g,h as S,d as _,m as I,b as a,g as le,N as s,a5 as P,R as V,a4 as oe,p as ne,T as ue,n as ie}from"../../chunks/index-547720bb.js";import{s as ce}from"../../chunks/dbClient-5d8e923f.js";import{M as de}from"../../chunks/Modal-714437aa.js";import{A as me}from"../../chunks/AddressChallenge-a2ba836a.js";import"../../chunks/preload-helper-60cab3ee.js";import"../../chunks/utils-b80a401c.js";function Q(d){let t,r;return t=new de({props:{$$slots:{default:[fe]},$$scope:{ctx:d}}}),t.$on("exit",d[6]),{c(){X(t.$$.fragment)},l(e){Z(t.$$.fragment,e)},m(e,u){ee(t,e,u),r=!0},p(e,u){const b={};u&256&&(b.$$scope={dirty:u,ctx:e}),t.$set(b)},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){te(t,e)}}}function fe(d){let t,r;return t=new me({}),{c(){X(t.$$.fragment)},l(e){Z(t.$$.fragment,e)},m(e,u){ee(t,e,u),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){te(t,e)}}}function pe(d){let t,r,e,u,b,o,n,N,i,B,m,w,U,A,$,F,M,O,x,R,y,W,C,Y,H,l=d[2]&&Q(d);return{c(){t=p("div"),r=p("div"),e=p("h1"),u=T("Welcome Back"),b=E(),o=p("form"),n=p("input"),N=E(),i=p("input"),B=E(),m=p("div"),w=p("a"),U=T("Forgot Your Password? <<<"),A=E(),$=p("button"),F=T("Sign In"),M=E(),l&&l.c(),O=E(),x=p("div"),R=T(`Not registered?\r
		`),y=p("button"),W=T("Create an account"),this.h()},l(c){t=h(c,"DIV",{class:!0});var f=g(t);r=h(f,"DIV",{class:!0});var k=g(r);e=h(k,"H1",{class:!0});var z=g(e);u=S(z,"Welcome Back"),z.forEach(_),b=I(k),o=h(k,"FORM",{});var v=g(o);n=h(v,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),N=I(v),i=h(v,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),B=I(v),m=h(v,"DIV",{class:!0});var G=g(m);w=h(G,"A",{href:!0,class:!0});var J=g(w);U=S(J,"Forgot Your Password? <<<"),J.forEach(_),G.forEach(_),A=I(v),$=h(v,"BUTTON",{type:!0,class:!0});var K=g($);F=S(K,"Sign In"),K.forEach(_),v.forEach(_),M=I(k),l&&l.l(k),k.forEach(_),O=I(f),x=h(f,"DIV",{class:!0});var j=g(x);R=S(j,`Not registered?\r
		`),y=h(j,"BUTTON",{class:!0});var L=g(y);W=S(L,"Create an account"),L.forEach(_),j.forEach(_),f.forEach(_),this.h()},h(){a(e,"class","text-2xl text-center"),a(n,"id","email"),a(n,"type","email"),a(n,"class","block text-xl border border-orange-700 w-full py-3 rounded mb-4"),a(n,"name","email"),n.required=!0,a(n,"placeholder","Email"),a(n,"autocomplete","email"),a(i,"id","password"),a(i,"type","password"),a(i,"class","block text-xl border border-orange-700 w-full py-3 rounded mb-4"),a(i,"name","password"),i.required=!0,a(i,"placeholder","Password"),a(i,"autocomplete","current-password"),a(w,"href","/auth/requestresetpassword"),a(w,"class","text-sm font-semibold text-orange-600 dark:text-gray-400 hover:underline"),a(m,"class","flex justify-between mt-4 mb-3"),a($,"type","submit"),a($,"class","w-full text-center py-3 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1"),a(r,"class","bg-white p-6 sm:ml-0 rounded shadow-md text-black w-5/6 sm:w-full"),a(y,"class","text-center py-1 px-5 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1"),a(x,"class","text-grey-dark mt-6"),a(t,"class","flex flex-col items-center max-w-sm max-w-screen-xsm mx-auto")},m(c,f){le(c,t,f),s(t,r),s(r,e),s(e,u),s(r,b),s(r,o),s(o,n),P(n,d[0]),s(o,N),s(o,i),P(i,d[1]),s(o,B),s(o,m),s(m,w),s(w,U),s(o,A),s(o,$),s($,F),s(r,M),l&&l.m(r,null),s(t,O),s(t,x),s(x,R),s(x,y),s(y,W),C=!0,Y||(H=[V(n,"input",d[4]),V(i,"input",d[5]),V(o,"submit",oe(d[3])),V(y,"click",d[7])],Y=!0)},p(c,[f]){f&1&&n.value!==c[0]&&P(n,c[0]),f&2&&i.value!==c[1]&&P(i,c[1]),c[2]?l?(l.p(c,f),f&4&&q(l,1)):(l=Q(c),l.c(),q(l,1),l.m(r,null)):l&&(ie(),D(l,1,1,()=>{l=null}),ne())},i(c){C||(q(l),C=!0)},o(c){D(l),C=!1},d(c){c&&_(t),l&&l.d(),Y=!1,ue(H)}}}function he(d,t,r){let e,u;const b=async()=>{try{loading=!0;const{error:m}=await ce.auth.signIn({email:e,password:u});if(m)throw m}catch(m){alert(m.error_description||m.message)}finally{loading=!1}};let o=!1;function n(){e=this.value,r(0,e)}function N(){u=this.value,r(1,u)}return[e,u,o,b,n,N,()=>r(2,o=!o),()=>r(2,o=!o)]}class xe extends re{constructor(t){super(),ae(this,t,he,pe,se,{})}}export{xe as default};
