import{S as st,i as lt,s as rt,e as l,t as v,k as c,c as r,a as o,h as _,d as n,m as h,b as t,Q as C,g as nt,N as e,a5 as tt,R as G,j as se,E as at,T as ot}from"../../chunks/index-547720bb.js";import{s as ut}from"../../chunks/dbClient-5d8e923f.js";import"../../chunks/preload-helper-60cab3ee.js";function it(s){let w,a,y,I,M,p,U,b,q,E,A=(s[5],"\u{1F441}"),Q,le,f,H,re,N,x,m,B=(s[5],"\u{1F441}"),J,we,g,pe,Ee,P,O,Pe,R,ye,V,Ae,Z,Se,S,z,K,ne=s[4][0]?"\u2714\uFE0F":"\u274C",de,Ne,W,xe,Le,D,X,oe=s[4][1]?"\u2714\uFE0F":"\u274C",ce,Te,Y,ke,Ce,j,$,ue=s[4][2]?"\u2714\uFE0F":"\u274C",he,Ie,ee,Ue,qe,F,te,ie=s[4][3]?"\u2714\uFE0F":"\u274C",fe,Be,ae,Oe,Re,L,Ve,me,Ze,je;return{c(){w=l("div"),a=l("form"),y=l("label"),I=v("Email:"),M=c(),p=l("input"),U=c(),b=l("label"),q=v("Password:"),E=l("span"),Q=v(A),le=c(),f=l("input"),re=c(),N=l("label"),x=v("Confirm Password:"),m=l("span"),J=v(B),we=c(),g=l("input"),Ee=c(),P=l("div"),O=l("span"),Pe=c(),R=l("span"),ye=c(),V=l("span"),Ae=c(),Z=l("span"),Se=c(),S=l("ul"),z=l("li"),K=l("span"),de=v(ne),Ne=c(),W=l("span"),xe=v("must be at least 5 characters"),Le=c(),D=l("li"),X=l("span"),ce=v(oe),Te=c(),Y=l("span"),ke=v("must contain a capital letter"),Ce=c(),j=l("li"),$=l("span"),he=v(ue),Ie=c(),ee=l("span"),Ue=v("must contain a number"),qe=c(),F=l("li"),te=l("span"),fe=v(ie),Be=c(),ae=l("span"),Oe=v("must contain one symbol ($&+,:;=?#^!)"),Re=c(),L=l("button"),Ve=v("Create Account"),this.h()},l(u){w=r(u,"DIV",{class:!0});var i=o(w);a=r(i,"FORM",{action:!0,method:!0});var d=o(a);y=r(d,"LABEL",{class:!0,for:!0});var Fe=o(y);I=_(Fe,"Email:"),Fe.forEach(n),M=h(d),p=r(d,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),U=h(d),b=r(d,"LABEL",{class:!0,for:!0});var ze=o(b);q=_(ze,"Password:"),E=r(ze,"SPAN",{class:!0});var Ge=o(E);Q=_(Ge,A),Ge.forEach(n),ze.forEach(n),le=h(d),f=r(d,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0}),re=h(d),N=r(d,"LABEL",{class:!0,for:!0});var De=o(N);x=_(De,"Confirm Password:"),m=r(De,"SPAN",{class:!0});var Me=o(m);J=_(Me,B),Me.forEach(n),De.forEach(n),we=h(d),g=r(d,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0}),Ee=h(d),P=r(d,"DIV",{class:!0});var T=o(P);O=r(T,"SPAN",{class:!0}),o(O).forEach(n),Pe=h(T),R=r(T,"SPAN",{class:!0}),o(R).forEach(n),ye=h(T),V=r(T,"SPAN",{class:!0}),o(V).forEach(n),Ae=h(T),Z=r(T,"SPAN",{class:!0}),o(Z).forEach(n),T.forEach(n),Se=h(d),S=r(d,"UL",{});var k=o(S);z=r(k,"LI",{});var be=o(z);K=r(be,"SPAN",{class:!0});var Qe=o(K);de=_(Qe,ne),Qe.forEach(n),Ne=h(be),W=r(be,"SPAN",{class:!0});var He=o(W);xe=_(He,"must be at least 5 characters"),He.forEach(n),be.forEach(n),Le=h(k),D=r(k,"LI",{});var ge=o(D);X=r(ge,"SPAN",{class:!0});var Je=o(X);ce=_(Je,oe),Je.forEach(n),Te=h(ge),Y=r(ge,"SPAN",{class:!0});var Ke=o(Y);ke=_(Ke,"must contain a capital letter"),Ke.forEach(n),ge.forEach(n),Ce=h(k),j=r(k,"LI",{});var ve=o(j);$=r(ve,"SPAN",{class:!0});var We=o($);he=_(We,ue),We.forEach(n),Ie=h(ve),ee=r(ve,"SPAN",{class:!0});var Xe=o(ee);Ue=_(Xe,"must contain a number"),Xe.forEach(n),ve.forEach(n),qe=h(k),F=r(k,"LI",{});var _e=o(F);te=r(_e,"SPAN",{class:!0});var Ye=o(te);fe=_(Ye,ie),Ye.forEach(n),Be=h(_e),ae=r(_e,"SPAN",{class:!0});var $e=o(ae);Oe=_($e,"must contain one symbol ($&+,:;=?#^!)"),$e.forEach(n),_e.forEach(n),k.forEach(n),Re=h(d),L=r(d,"BUTTON",{type:!0,class:!0});var et=o(L);Ve=_(et,"Create Account"),et.forEach(n),d.forEach(n),i.forEach(n),this.h()},h(){t(y,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),t(y,"for","email"),t(p,"id","email"),t(p,"type","email"),t(p,"class","block border border-orange-700 w-full py-3 rounded mb-4"),t(p,"name","email"),p.required=!0,t(p,"placeholder","Email"),t(p,"autocomplete","email"),t(E,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),t(b,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),t(b,"for","password"),t(f,"id","password"),t(f,"type",H=s[5]?"text":"password"),t(f,"class","block border border-orange-700 w-full py-3 rounded mb-4"),t(f,"name","password"),f.required=!0,t(f,"placeholder","New Password"),f.value=s[3],t(m,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),t(N,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),t(N,"for","confirmPassword"),t(g,"id","confirmPassword"),t(g,"type",pe=s[5]?"text":"password"),t(g,"class","block border border-orange-700 w-full py-3 rounded mb-4"),t(g,"name","confirmPassword"),g.required=!0,t(g,"placeholder","Confirm New Password"),g.value=s[2],t(O,"class","bar bar-1 svelte-1nr3gt"),C(O,"bar-show",s[1]>0),t(R,"class","bar bar-2 svelte-1nr3gt"),C(R,"bar-show",s[1]>1),t(V,"class","bar bar-3 svelte-1nr3gt"),C(V,"bar-show",s[1]>2),t(Z,"class","bar bar-4 svelte-1nr3gt"),C(Z,"bar-show",s[1]>3),t(P,"class","strength svelte-1nr3gt"),t(K,"class","text-[10px]"),t(W,"class","text-sm"),t(X,"class","text-[10px]"),t(Y,"class","text-sm"),t($,"class","text-[10px]"),t(ee,"class","text-sm"),t(te,"class","text-[10px]"),t(ae,"class","text-sm"),t(L,"type","submit"),t(L,"class","w-full text-center py-3 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1 disabled:opacity-25"),L.value="",L.disabled=me=!s[6],t(a,"action","/api/auth/updateuser"),t(a,"method","POST"),t(w,"class","flex flex-col items-center bg-white p-6 max-w-sm max-w-screen-xsm mx-auto")},m(u,i){nt(u,w,i),e(w,a),e(a,y),e(y,I),e(a,M),e(a,p),tt(p,s[0]),e(a,U),e(a,b),e(b,q),e(b,E),e(E,Q),e(a,le),e(a,f),e(a,re),e(a,N),e(N,x),e(N,m),e(m,J),e(a,we),e(a,g),e(a,Ee),e(a,P),e(P,O),e(P,Pe),e(P,R),e(P,ye),e(P,V),e(P,Ae),e(P,Z),e(a,Se),e(a,S),e(S,z),e(z,K),e(K,de),e(z,Ne),e(z,W),e(W,xe),e(S,Le),e(S,D),e(D,X),e(X,ce),e(D,Te),e(D,Y),e(Y,ke),e(S,Ce),e(S,j),e(j,$),e($,he),e(j,Ie),e(j,ee),e(ee,Ue),e(S,qe),e(S,F),e(F,te),e(te,fe),e(F,Be),e(F,ae),e(ae,Oe),e(a,Re),e(a,L),e(L,Ve),Ze||(je=[G(p,"input",s[10]),G(E,"mouseenter",s[11]),G(E,"mouseleave",s[12]),G(f,"input",s[7]),G(m,"mouseenter",s[13]),G(m,"mouseleave",s[14]),G(g,"input",s[7])],Ze=!0)},p(u,[i]){i&1&&p.value!==u[0]&&tt(p,u[0]),i&32&&A!==(A=(u[5],"\u{1F441}"))&&se(Q,A),i&32&&H!==(H=u[5]?"text":"password")&&t(f,"type",H),i&8&&f.value!==u[3]&&(f.value=u[3]),i&32&&B!==(B=(u[5],"\u{1F441}"))&&se(J,B),i&32&&pe!==(pe=u[5]?"text":"password")&&t(g,"type",pe),i&4&&g.value!==u[2]&&(g.value=u[2]),i&2&&C(O,"bar-show",u[1]>0),i&2&&C(R,"bar-show",u[1]>1),i&2&&C(V,"bar-show",u[1]>2),i&2&&C(Z,"bar-show",u[1]>3),i&16&&ne!==(ne=u[4][0]?"\u2714\uFE0F":"\u274C")&&se(de,ne),i&16&&oe!==(oe=u[4][1]?"\u2714\uFE0F":"\u274C")&&se(ce,oe),i&16&&ue!==(ue=u[4][2]?"\u2714\uFE0F":"\u274C")&&se(he,ue),i&16&&ie!==(ie=u[4][3]?"\u2714\uFE0F":"\u274C")&&se(fe,ie),i&64&&me!==(me=!u[6])&&(L.disabled=me)},i:at,o:at,d(u){u&&n(w),Ze=!1,ot(je)}}}function pt(s){var w=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return w.test(String(s).toLowerCase())}function dt(s,w,a){let y,I,M,p,{redirectType:U}=w,b="",q=0,E=[],A=!1;U=="invite"&&(heading="Please Set a Password",submitText="Set Password"),ut.auth.onAuthStateChange(async(x,m)=>{a(0,b=m.user.email),console.log("Supabase event: ",x)});function Q(x){const m=x.target.value;a(4,E=[m.length>8,m.search(/[A-Z]/)>-1,m.search(/[0-9]/)>-1,m.search(/[$&+,:;=?#^!]/)>-1]),a(1,q=E.reduce((B,J)=>B+J,0))}function le(){b=this.value,a(0,b)}const f=()=>a(5,A=!0),H=()=>a(5,A=!1),re=()=>a(5,A=!0),N=()=>a(5,A=!1);return s.$$set=x=>{"redirectType"in x&&a(8,U=x.redirectType)},s.$$.update=()=>{s.$$.dirty&1&&a(9,p=pt(b)),s.$$.dirty&526&&a(6,M=p&&y===I&&q===4)},a(3,y=""),a(2,I=""),[b,q,I,y,E,A,M,Q,U,p,le,f,H,re,N]}class mt extends st{constructor(w){super(),lt(this,w,dt,it,rt,{redirectType:8})}}export{mt as default};
