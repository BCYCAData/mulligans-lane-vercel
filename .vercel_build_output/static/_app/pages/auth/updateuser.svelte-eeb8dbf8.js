import{S as pa,i as ca,s as da,e as t,t as h,k as c,c as s,a as o,h as b,d as r,m as d,b as a,J as U,g as fa,G as e,K as ae,j as q,n as ia,L as ma}from"../../chunks/index-27e8d48c.js";import{d as ha}from"../../chunks/dbClient-f8d02c03.js";import"../../chunks/_commonjsHelpers-7d66b65f.js";function ba(n){let S,f,l,A,B,D,_,M,R,m,te,y,se,x,w=(n[2],"\u{1F441}"),N,le,v,pe,Se,T,Ne,I,re=(n[2],"\u{1F441}"),ce,Ae,g,de,ye,E,O,xe,V,Le,j,Te,F,Ie,P,G,Z,oe=n[1][0]?"\u{1F3C6}":"\u274C",fe,ke,z,Ce,Ue,H,Q,ne=n[1][1]?"\u{1F3C6}":"\u274C",me,qe,W,Be,De,J,X,ue=n[1][2]?"\u{1F3C6}":"\u274C",he,Oe,Y,Ve,je,K,$,ie=n[1][3]?"\u{1F3C6}":"\u274C",be,Fe,ee,Ge,He,L,ve,_e,Je,ze;return{c(){S=t("div"),f=t("div"),l=t("form"),A=t("h1"),B=h(n[3]),D=c(),_=t("label"),M=h("Email:"),R=c(),m=t("input"),te=c(),y=t("label"),se=h("Confirm Password:"),x=t("span"),N=h(w),le=c(),v=t("input"),Se=c(),T=t("label"),Ne=h("Confirm Password:"),I=t("span"),ce=h(re),Ae=c(),g=t("input"),ye=c(),E=t("div"),O=t("span"),xe=c(),V=t("span"),Le=c(),j=t("span"),Te=c(),F=t("span"),Ie=c(),P=t("ul"),G=t("li"),Z=t("span"),fe=h(oe),ke=c(),z=t("span"),Ce=h("must be at least 5 characters"),Ue=c(),H=t("li"),Q=t("span"),me=h(ne),qe=c(),W=t("span"),Be=h("must contain a capital letter"),De=c(),J=t("li"),X=t("span"),he=h(ue),Oe=c(),Y=t("span"),Ve=h("must contain a number"),je=c(),K=t("li"),$=t("span"),be=h(ie),Fe=c(),ee=t("span"),Ge=h("must contain one symbol ($&+,:;=?#^!)"),He=c(),L=t("button"),ve=h(n[4]),this.h()},l(u){S=s(u,"DIV",{class:!0});var i=o(S);f=s(i,"DIV",{class:!0});var Qe=o(f);l=s(Qe,"FORM",{action:!0,method:!0});var p=o(l);A=s(p,"H1",{class:!0});var We=o(A);B=b(We,n[3]),We.forEach(r),D=d(p),_=s(p,"LABEL",{class:!0,for:!0});var Xe=o(_);M=b(Xe,"Email:"),Xe.forEach(r),R=d(p),m=s(p,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0,autocomplete:!0}),te=d(p),y=s(p,"LABEL",{class:!0,for:!0});var Ke=o(y);se=b(Ke,"Confirm Password:"),x=s(Ke,"SPAN",{class:!0});var Ye=o(x);N=b(Ye,w),Ye.forEach(r),Ke.forEach(r),le=d(p),v=s(p,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0}),Se=d(p),T=s(p,"LABEL",{class:!0,for:!0});var Me=o(T);Ne=b(Me,"Confirm Password:"),I=s(Me,"SPAN",{class:!0});var $e=o(I);ce=b($e,re),$e.forEach(r),Me.forEach(r),Ae=d(p),g=s(p,"INPUT",{id:!0,type:!0,class:!0,name:!0,placeholder:!0}),ye=d(p),E=s(p,"DIV",{class:!0});var k=o(E);O=s(k,"SPAN",{class:!0}),o(O).forEach(r),xe=d(k),V=s(k,"SPAN",{class:!0}),o(V).forEach(r),Le=d(k),j=s(k,"SPAN",{class:!0}),o(j).forEach(r),Te=d(k),F=s(k,"SPAN",{class:!0}),o(F).forEach(r),k.forEach(r),Ie=d(p),P=s(p,"UL",{class:!0});var C=o(P);G=s(C,"LI",{});var we=o(G);Z=s(we,"SPAN",{class:!0});var ea=o(Z);fe=b(ea,oe),ea.forEach(r),ke=d(we),z=s(we,"SPAN",{class:!0});var aa=o(z);Ce=b(aa,"must be at least 5 characters"),aa.forEach(r),we.forEach(r),Ue=d(C),H=s(C,"LI",{});var ge=o(H);Q=s(ge,"SPAN",{class:!0});var ta=o(Q);me=b(ta,ne),ta.forEach(r),qe=d(ge),W=s(ge,"SPAN",{class:!0});var sa=o(W);Be=b(sa,"must contain a capital letter"),sa.forEach(r),ge.forEach(r),De=d(C),J=s(C,"LI",{});var Ee=o(J);X=s(Ee,"SPAN",{class:!0});var la=o(X);he=b(la,ue),la.forEach(r),Oe=d(Ee),Y=s(Ee,"SPAN",{class:!0});var ra=o(Y);Ve=b(ra,"must contain a number"),ra.forEach(r),Ee.forEach(r),je=d(C),K=s(C,"LI",{});var Pe=o(K);$=s(Pe,"SPAN",{class:!0});var oa=o($);be=b(oa,ie),oa.forEach(r),Fe=d(Pe),ee=s(Pe,"SPAN",{class:!0});var na=o(ee);Ge=b(na,"must contain one symbol ($&+,:;=?#^!)"),na.forEach(r),Pe.forEach(r),C.forEach(r),He=d(p),L=s(p,"BUTTON",{type:!0,class:!0});var ua=o(L);ve=b(ua,n[4]),ua.forEach(r),p.forEach(r),Qe.forEach(r),i.forEach(r),this.h()},h(){a(A,"class","mb-8 text-3xl text-center"),a(_,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),a(_,"for","email"),a(m,"id","email"),a(m,"type","email"),a(m,"class","block text-xl border border-orange-700 w-full py-3 rounded mb-4"),a(m,"name","email"),m.required=!0,a(m,"placeholder","Email"),a(m,"autocomplete","email"),m.value=n[5],a(x,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(y,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),a(y,"for","password"),a(v,"id","password"),a(v,"type",pe=n[2]?"text":"password"),a(v,"class","block text-xl border border-orange-700 w-full py-3 rounded mb-4"),a(v,"name","password"),v.required=!0,a(v,"placeholder","New Password"),v.value=Re,a(I,"class","toggle-password text-3xl text-gray-700 font-normal ml-3 align-middle "),a(T,"class","inline uppercase tracking-wide text-orange-500 text-xs font-bold"),a(T,"for","confirmPassword"),a(g,"id","confirmPassword"),a(g,"type",de=n[2]?"text":"password"),a(g,"class","block text-xl border border-orange-700 w-full py-3 rounded mb-4"),a(g,"name","confirmPassword"),g.required=!0,a(g,"placeholder","Confirm New Password"),g.value=Ze,a(O,"class","bar bar-1 svelte-1nr3gt"),U(O,"bar-show",n[0]>0),a(V,"class","bar bar-2 svelte-1nr3gt"),U(V,"bar-show",n[0]>1),a(j,"class","bar bar-3 svelte-1nr3gt"),U(j,"bar-show",n[0]>2),a(F,"class","bar bar-4 svelte-1nr3gt"),U(F,"bar-show",n[0]>3),a(E,"class","strength svelte-1nr3gt"),a(Z,"class","text-[10px]"),a(z,"class","text-base"),a(Q,"class","text-[10px]"),a(W,"class","text-base"),a(X,"class","text-[10px]"),a(Y,"class","text-base"),a($,"class","text-[10px]"),a(ee,"class","text-base"),a(P,"class","list-none"),a(L,"type","submit"),a(L,"class","w-full text-center py-3 rounded-full bg-orange-500 text-white hover:bg-orange-700 focus:outline-none my-1"),L.disabled=_e=n[0]<4&&{confirmPassword:Ze}!=={password:Re},a(l,"action","/api/auth/updateuser"),a(l,"method","POST"),a(f,"class","bg-white p-6 ml-1.5 sm:ml-0 rounded shadow-md text-black w-5/6 sm:w-full"),a(S,"class","container max-w-sm max-w-screen-xsm mx-auto")},m(u,i){fa(u,S,i),e(S,f),e(f,l),e(l,A),e(A,B),e(l,D),e(l,_),e(_,M),e(l,R),e(l,m),e(l,te),e(l,y),e(y,se),e(y,x),e(x,N),e(l,le),e(l,v),e(l,Se),e(l,T),e(T,Ne),e(T,I),e(I,ce),e(l,Ae),e(l,g),e(l,ye),e(l,E),e(E,O),e(E,xe),e(E,V),e(E,Le),e(E,j),e(E,Te),e(E,F),e(l,Ie),e(l,P),e(P,G),e(G,Z),e(Z,fe),e(G,ke),e(G,z),e(z,Ce),e(P,Ue),e(P,H),e(H,Q),e(Q,me),e(H,qe),e(H,W),e(W,Be),e(P,De),e(P,J),e(J,X),e(X,he),e(J,Oe),e(J,Y),e(Y,Ve),e(P,je),e(P,K),e(K,$),e($,be),e(K,Fe),e(K,ee),e(ee,Ge),e(l,He),e(l,L),e(L,ve),Je||(ze=[ae(x,"mouseenter",n[8]),ae(x,"mouseleave",n[9]),ae(v,"input",n[6]),ae(I,"mouseenter",n[10]),ae(I,"mouseleave",n[11]),ae(g,"input",n[6])],Je=!0)},p(u,[i]){i&8&&q(B,u[3]),i&32&&m.value!==u[5]&&(m.value=u[5]),i&4&&w!==(w=(u[2],"\u{1F441}"))&&q(N,w),i&4&&pe!==(pe=u[2]?"text":"password")&&a(v,"type",pe),i&4&&re!==(re=(u[2],"\u{1F441}"))&&q(ce,re),i&4&&de!==(de=u[2]?"text":"password")&&a(g,"type",de),i&1&&U(O,"bar-show",u[0]>0),i&1&&U(V,"bar-show",u[0]>1),i&1&&U(j,"bar-show",u[0]>2),i&1&&U(F,"bar-show",u[0]>3),i&2&&oe!==(oe=u[1][0]?"\u{1F3C6}":"\u274C")&&q(fe,oe),i&2&&ne!==(ne=u[1][1]?"\u{1F3C6}":"\u274C")&&q(me,ne),i&2&&ue!==(ue=u[1][2]?"\u{1F3C6}":"\u274C")&&q(he,ue),i&2&&ie!==(ie=u[1][3]?"\u{1F3C6}":"\u274C")&&q(be,ie),i&16&&q(ve,u[4]),i&1&&_e!==(_e=u[0]<4&&{confirmPassword:Ze}!=={password:Re})&&(L.disabled=_e)},i:ia,o:ia,d(u){u&&r(S),Je=!1,ma(ze)}}}let Re="",Ze="";function va(n,S,f){let l,{redirectType:A}=S;ha.auth.onAuthStateChange(async(w,N)=>{f(5,l=N.user.email),console.log("Supabase event: ",w)});let B=0,D=[],_=!1,M="",R="";A=="invite"&&(M="Please Set a Password",R="Set Password");function m(w){const N=w.target.value;f(1,D=[N.length>8,N.search(/[A-Z]/)>-1,N.search(/[0-9]/)>-1,N.search(/[$&+,:;=?#^!]/)>-1]),f(0,B=D.reduce((le,v)=>le+v,0))}const te=()=>f(2,_=!0),y=()=>f(2,_=!1),se=()=>f(2,_=!0),x=()=>f(2,_=!1);return n.$$set=w=>{"redirectType"in w&&f(7,A=w.redirectType)},f(5,l=""),[B,D,_,M,R,l,m,A,te,y,se,x]}class Ea extends pa{constructor(S){super(),ca(this,S,va,ba,da,{redirectType:7})}}export{Ea as default};
